@model OnlineStore.Models.Product

@{
    ViewData["Title"] = "Delete";
}

<h1>Delete</h1>

<h3>Are you sure you want to delete this?</h3>
<div>
    <h4>Product</h4>
    @*<hr />
        <dl class="row">
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Title)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Title)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Price)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Price)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.IsTop)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.IsTop)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Discount)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Discount)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Count)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Count)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.CommodityCode)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.CommodityCode)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Image)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Image)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Manufacturer)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Manufacturer.Id)
            </dd class>
        </dl>*@

    <div class="card border border-2 border-danger" style="width: 18rem;">
        <img src="data:image/*;base64,@(Convert.ToBase64String(Model.Image))" class="card-img-top p-2" alt="Category image">
        <div class="card-body">
            <h5 class="card-title">@Model.Title</h5>
            <p class="card-text"><span class="fw-bold">@Html.DisplayNameFor(m => m.Title)</span>: @Model.Title</p>
            <p class="card-text"><span class="fw-bold">@Html.DisplayNameFor(m => m.Feature)</span>: @Model.Feature</p>
            <p class="card-text"><span class="fw-bold">@Html.DisplayNameFor(m => m.Price)</span> @Model.Price</p>
            <p class="card-text"><span class="fw-bold">@Html.DisplayNameFor(m => m.IsTop)</span> @Model.IsTop</p>
            <p class="card-text"><span class="fw-bold">@Html.DisplayNameFor(m => m.Discount)</span>: @Model.Discount</p>
            <p class="card-text"><span class="fw-bold">@Html.DisplayNameFor(m => m.Count)</span>: @Model.Count</p>
            <p class="card-text"><span class="fw-bold">@Html.DisplayNameFor(m => m.CommodityCode)</span>: @Model.CommodityCode</p>
            @if (Model.CategoryProducts.Count() != 0)
            {
                <h2 class="ms-3">Categories:</h2>
                <div class="card-body text-muted">
                    @foreach (var cp in Model.CategoryProducts.Where(cp => cp.ProductId == Model.Id))
                    {
                        <p class="card-text">@cp.Category.Title</p>
                    }
                </div>
            }
            <hr />

            <form asp-action="Delete">
                <input type="hidden" asp-for="Id" />
                <input type="submit" value="Delete" class="btn btn-danger" /> |
                <a asp-action="Index" class="btn btn-primary">Back to List</a>
            </form>
        </div>
    </div>
</div>
